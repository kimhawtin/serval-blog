+++
date = "2012-07-05"
title = "Sneak-Peak of Encrypted Calls, Even on Slow Android Phones"
author = "Paul Gardner-Stephen"
+++

<div class="post-body entry-content" id="post-body-8804467491105615843" itemprop="description articleBody">
Just a quick post to show the latest development code of the Serval Mesh running an encrypted phone call on some low-end handsets, and keeping comfortably below 50% CPU:<div>
<br/></div>

<iframe allowfullscreen="allowFullScreen" frameborder="0" mozallowfullscreen="mozallowfullscreen" src="https://www.youtube.com/embed/TAupJHKeF3Y?feature=player_embedded" webkitallowfullscreen="webkitallowfullscreen"></iframe>
<div>
<br/></div>
<div>
As well as encryption, this call is being carried by the Serval Overlay Mesh, and is all native VoMP and MDP, and contains no SIP, RTP or anything IP dependent.  So this demonstrates the feasibility of our Overlay Mesh architecture as it might be used for phones with a built-in Arduino or similar with ISM-band UHF radio modules to support longer-range mesh links.</div>
<div>
<br/></div>
<div>
Some of the output from top while in the call is below.</div>
<div>
<br/></div>
<div>
<span><br/></span></div>
<div>
<span><br/><span>User 27%, System 25%, IOW 0%, IRQ 2%</span><br/><span>User 46 + Nice 43 + Sys 85 + Idle 147 + IOW 0 + IRQ 0 + SIRQ 7 = 328</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  21% R     1  10336K   4544K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  11% S    21 140628K  23560K  fg app_72   org.servalproject</span><br/><span>  135   8% S    60 197008K  28672K  fg system   system_server</span><br/><span> 2600   7% R     1    904K    420K  fg shell    top</span><br/><span> 2611   6% S     1      0K      0K unk root     dhd_dpc</span><br/><span>   54   0% S     1      0K      0K  fg root     gs_wq</span><br/><span>    4   0% S     1      0K      0K  fg root     events/0</span><br/><span> 1702   0% S    12 129616K  22368K  bg app_19</span><br/><span>com.google.android.apps.maps:</span><wbr></wbr><span>NetworkLocationService</span><br/><span>   76   0% S    12  17188K   1340K  fg root     /system/bin/rild</span><br/><span>   11   0% S     1      0K      0K  fg root     kseriod</span><br/><br/><br/><br/><span>User 31%, System 21%, IOW 0%, IRQ 2%</span><br/><span>User 63 + Nice 43 + Sys 73 + Idle 146 + IOW 0 + IRQ 0 + SIRQ 8 = 333</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  19% R     1  10532K   4740K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  18% S    21 137556K  23600K  fg app_72   org.servalproject</span><br/><span> 2600   7% R     1    904K    420K  fg shell    top</span><br/><span> 2611   5% S     1      0K      0K unk root     dhd_dpc</span><br/><span>  135   1% S    60 197008K  28672K  fg system   system_server</span><br/><span> 1824   0% S    10 123752K  21508K  bg app_33   android.process.acore</span><br/><span>   54   0% S     1      0K      0K  fg root     gs_wq</span><br/><span>    8   0% S     1      0K      0K  fg root     sync_supers</span><br/><span>    9   0% S     1      0K      0K  fg root     bdi-default</span><br/><span>   10   0% S     1      0K      0K  fg root     kblockd/0</span><br/><br/><br/><br/><span>User 31%, System 24%, IOW 0%, IRQ 0%</span><br/><span>User 64 + Nice 39 + Sys 79 + Idle 145 + IOW 0 + IRQ 0 + SIRQ 1 = 328</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  18% R     1  10728K   4936K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  14% S    21 137524K  23416K  fg app_72   org.servalproject</span><br/><span> 2600   7% R     1    904K    420K  fg shell    top</span><br/><span> 2611   5% S     1      0K      0K unk root     dhd_dpc</span><br/><span> 1859   4% S    12 131092K  25252K  bg app_18   com.huawei.launcher2</span><br/><span>  135   3% S    60 197008K  28672K  fg system   system_server</span><br/><span>   54   1% S     1      0K      0K  fg root     gs_wq</span><br/><span>  227   0% S     8 112696K  12084K  fg app_44   com.nuance.nmc.sihome</span><br/><span>    9   0% S     1      0K      0K  fg root     bdi-default</span><br/><span>   10   0% S     1      0K      0K  fg root     kblockd/0</span><br/><br/><br/><br/><span>User 26%, System 23%, IOW 0%, IRQ 0%</span><br/><span>User 43 + Nice 45 + Sys 76 + Idle 161 + IOW 0 + IRQ 0 + SIRQ 2 = 327</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  22% R     1  10916K   5124K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  14% S    21 137524K  23484K  fg app_72   org.servalproject</span><br/><span> 2600   6% R     1    904K    420K  fg shell    top</span><br/><span> 2611   4% S     1      0K      0K unk root     dhd_dpc</span><br/><span>  135   1% S    60 197008K  28672K  fg system   system_server</span><br/><span>   54   1% S     1      0K      0K  fg root     gs_wq</span><br/><span>    7   0% S     1      0K      0K  fg root     suspend</span><br/><span>    8   0% S     1      0K      0K  fg root     sync_supers</span><br/><span>    9   0% S     1      0K      0K  fg root     bdi-default</span><br/><span>   10   0% S     1      0K      0K  fg root     kblockd/0</span><br/><br/><br/><br/><span>User 29%, System 23%, IOW 0%, IRQ 0%</span><br/><span>User 55 + Nice 41 + Sys 78 + Idle 150 + IOW 0 + IRQ 0 + SIRQ 3 = 327</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  19% R     1  11112K   5320K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  18% S    21 137524K  23528K  fg app_72   org.servalproject</span><br/><span> 2611   6% S     1      0K      0K unk root     dhd_dpc</span><br/><span> 2600   6% R     1    904K    420K  fg shell    top</span><br/><span>  135   1% S    60 197008K  28672K  fg system   system_server</span><br/><span>   54   0% S     1      0K      0K  fg root     gs_wq</span><br/><span> 1859   0% S    12 131092K  25236K  bg app_18   com.huawei.launcher2</span><br/><span>    4   0% S     1      0K      0K  fg root     events/0</span><br/><span>   10   0% S     1      0K      0K  fg root     kblockd/0</span><br/><span>   11   0% S     1      0K      0K  fg root     kseriod</span><br/><br/><br/><br/><span>User 27%, System 22%, IOW 0%, IRQ 1%</span><br/><span>User 41 + Nice 49 + Sys 73 + Idle 160 + IOW 0 + IRQ 0 + SIRQ 5 = 328</span><br/><br/><span>  PID CPU% S  #THR     VSS     RSS PCY UID      Name</span><br/><span> 2627  20% R     1  11308K   5516K  bg app_72</span><br/><span>/data/data/org.servalproject/</span><wbr></wbr><span>bin/servald</span><br/><span> 2537  16% S    21 137524K  23396K  fg app_72   org.servalproject</span><br/><span> 2600   6% R     1    904K    420K  fg shell    top</span><br/><span> 2611   6% S     1      0K      0K unk root     dhd_dpc</span><br/><span>  135   0% S    60 197008K  28672K  fg system   system_server</span><br/><span>    6   0% S     1      0K      0K  fg root     async/mgr</span><br/><span>    7   0% S     1      0K      0K  fg root     suspend</span><br/><span>    8   0% S     1      0K      0K  fg root     sync_supers</span><br/><span>    9   0% S     1      0K      0K  fg root     bdi-default</span><br/><span>   10   0% S     1      0K      0K  fg root     kblockd/0</span><br/></span></div>
<div></div>
</div>